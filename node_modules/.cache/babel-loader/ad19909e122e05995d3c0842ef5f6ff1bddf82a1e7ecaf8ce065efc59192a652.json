{"ast":null,"code":"import React from'react';import'./CreatePost.css';import{useState}from'react';import{supabase}from'../client';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreatePost=()=>{const[post,setPost]=useState({title:\"\",author:\"\",description:\"\",image:\"\"});// Defines a function to handle changes in form inputs\nconst handleChange=event=>{// Destructures the 'name' and 'value' properties from the event's target (the input element)\nconst{name,value}=event.target;// Updates the 'post' state using the previous state\nsetPost(prev=>{return{// Spreads the previous state to retain existing key-value pairs\n...prev,// Uses computed property names to update the key (input name) with the new value\n[name]:value};});};const createPost=async event=>{//asynchronous operation since sending data to a server\nevent.preventDefault();//prevents the default form submission behavior\nawait supabase.from('Posts').insert({title:post.title,author:post.author,description:post.description,image:post.image});window.location=\"/read\";//redirects to the read page after the post is created\n};return/*#__PURE__*/_jsx(\"div\",{class:\"post\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"author\",children:\"Author\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"author\",name:\"author\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"description\",name:\"description\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"image\",children:\"Image URL(optional)\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"image\",name:\"image\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{class:\"submit\",onClick:createPost,children:\"Submit\"})]})});};export default CreatePost;","map":{"version":3,"names":["React","useState","supabase","jsx","_jsx","jsxs","_jsxs","CreatePost","post","setPost","title","author","description","image","handleChange","event","name","value","target","prev","createPost","preventDefault","from","insert","window","location","class","children","htmlFor","type","id","onChange","onClick"],"sources":["C:/Users/rithi/OneDrive/Desktop/web stack/final - Copy/client/src/pages/CreatePost.js"],"sourcesContent":["import React from 'react';\nimport './CreatePost.css'\nimport { useState } from 'react';\nimport { supabase } from '../client'\n\nconst CreatePost = () => {\n\n    const [post, setPost] = useState({ title: \"\", author: \"\", description: \"\", image: \"\" })\n\n    // Defines a function to handle changes in form inputs\n    const handleChange = (event) => {\n        // Destructures the 'name' and 'value' properties from the event's target (the input element)\n        const { name, value } = event.target;\n        // Updates the 'post' state using the previous state\n        setPost((prev) => {\n            return {\n                // Spreads the previous state to retain existing key-value pairs\n                ...prev,\n                // Uses computed property names to update the key (input name) with the new value\n                [name]: value,\n            }\n        })\n    }\n\n    const createPost = async (event) => { //asynchronous operation since sending data to a server\n        event.preventDefault(); //prevents the default form submission behavior\n        await supabase\n            .from('Posts')\n            .insert({ title: post.title, author: post.author, description: post.description, image: post.image })\n        window.location = \"/read\"; //redirects to the read page after the post is created\n\n    }\n\n    return (\n        <div class='post'>\n            <form>\n                <label htmlFor=\"title\">Title</label> <br />\n                <input type=\"text\" id=\"title\" name=\"title\" onChange={handleChange} /><br />\n                <br />\n                <label htmlFor=\"author\">Author</label> <br />\n                <input type=\"text\" id=\"author\" name=\"author\" onChange={handleChange} /><br />\n                <br />\n\n                <label htmlFor=\"description\">Description</label> <br />\n                <input type=\"text\" id=\"description\" name=\"description\" onChange={handleChange} /><br />\n                <br />\n\n                <label htmlFor=\"image\">Image URL(optional)</label><br />\n                <input type=\"text\" id=\"image\" name=\"image\" onChange={handleChange} /><br />\n                <br />\n                <button class=\"submit\" onClick={createPost}>Submit</button>\n            </form>\n        </div>\n    )\n}\n\nexport default CreatePost"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}