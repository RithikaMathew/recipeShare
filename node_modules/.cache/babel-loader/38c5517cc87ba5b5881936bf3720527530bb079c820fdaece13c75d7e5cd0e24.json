{"ast":null,"code":"import React from'react';import'./CreatePost.css';import{useState}from'react';import{supabase}from'../client';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreatePost=()=>{const[post,setPost]=useState({title:\"\",author:\"\",description:\"\",image:\"\"});const navigate=useNavigate();// Defines a function to handle changes in form inputs\nconst handleChange=event=>{// Destructures the 'name' and 'value' properties from the event's target (the input element)\nconst{name,value}=event.target;// Updates the 'post' state using the previous state\nsetPost(prev=>{return{// Spreads the previous state to retain existing key-value pairs\n...prev,// Uses computed property names to update the key (input name) with the new value\n[name]:value};});};const createPost=async event=>{event.preventDefault();try{const{error}=await supabase.from('Posts').insert({title:post.title,author:post.author,description:post.description,image:post.image});if(error){throw error;}navigate(\"/read\");}catch(error){console.error('Error creating post:',error);}};return/*#__PURE__*/_jsx(\"div\",{class:\"post\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:createPost,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"author\",children:\"Author\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"author\",name:\"author\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"description\",name:\"description\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"image\",children:\"Image URL(optional)\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"image\",name:\"image\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{class:\"submit\",children:\"Submit\"})]})});};export default CreatePost;","map":{"version":3,"names":["React","useState","supabase","useNavigate","jsx","_jsx","jsxs","_jsxs","CreatePost","post","setPost","title","author","description","image","navigate","handleChange","event","name","value","target","prev","createPost","preventDefault","error","from","insert","console","class","children","onSubmit","htmlFor","type","id","onChange"],"sources":["C:/Users/rithi/OneDrive/Desktop/web stack/final - Copy/client/src/pages/CreatePost.js"],"sourcesContent":["import React from 'react';\nimport './CreatePost.css'\nimport { useState } from 'react';\nimport { supabase } from '../client'\nimport { useNavigate } from 'react-router-dom';\n\nconst CreatePost = () => {\n\n    const [post, setPost] = useState({ title: \"\", author: \"\", description: \"\", image: \"\" })\n    const navigate = useNavigate();\n\n    // Defines a function to handle changes in form inputs\n    const handleChange = (event) => {\n        // Destructures the 'name' and 'value' properties from the event's target (the input element)\n        const { name, value } = event.target;\n        // Updates the 'post' state using the previous state\n        setPost((prev) => {\n            return {\n                // Spreads the previous state to retain existing key-value pairs\n                ...prev,\n                // Uses computed property names to update the key (input name) with the new value\n                [name]: value,\n            }\n        })\n    }\n\n    const createPost = async (event) => {\n        event.preventDefault();\n    \n        try {\n            const { error } = await supabase\n                .from('Posts')\n                .insert({ title: post.title, author: post.author, description: post.description, image: post.image });\n    \n            if (error) {\n                throw error;\n            }\n    \n            navigate(\"/read\");\n        } catch (error) {\n            console.error('Error creating post:', error);\n        }\n    };\n\n    return (\n        <div class='post'>\n            <form onSubmit={createPost}>\n                <label htmlFor=\"title\">Title</label> <br />\n                <input type=\"text\" id=\"title\" name=\"title\" onChange={handleChange} /><br />\n                <br />\n                <label htmlFor=\"author\">Author</label> <br />\n                <input type=\"text\" id=\"author\" name=\"author\" onChange={handleChange} /><br />\n                <br />\n\n                <label htmlFor=\"description\">Description</label> <br />\n                <input type=\"text\" id=\"description\" name=\"description\" onChange={handleChange} /><br />\n                <br />\n\n                <label htmlFor=\"image\">Image URL(optional)</label><br />\n                <input type=\"text\" id=\"image\" name=\"image\" onChange={handleChange} /><br />\n                <br />\n                <button class=\"submit\" >Submit</button>\n            </form>\n        </div>\n    )\n}\n\nexport default CreatePost"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}